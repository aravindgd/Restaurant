continue
@reservations
@reservations.count
continue
@reservations.count
@reservations
continue
@reservations
continue
c
n
 n
c
n
continue
@reservation
n
@reservation
n
continue
@reservation.booking_day_updated 
@reservation
n
@reservation
params[:reservations][:booking_day].to_time
n
continue
@reservation
params[:reservations][:booking_day].to_time
@reservation
params
@reservation
n
@reservation
@reservation.booking_day_updated
@reservation.booking_day_updated.blank? 
@reservation.booking_day_updated.blank? && @reservation.guest_count_updated.blank?
n
c
 modify_reservation_attributes(params)
c
 modify_reservation_attributes(params)
n
@reservation.guest_count_updated.blank?
n
@reservation.booking_day_updated.blank?
 modify_reservation_attributes(params)
n
continue
@reservation
continue
@reservation
continue
@reservation
continue
@reservation
continue
@reservation
 modify_reservation_attributes(params)
@reservation
continue
modify_reservation_attributes(params)
@reservation
continue
reservation_available?(matched_shift_time, match_guest_count)
 Rails.application.secrets[:gmail
continue
Rails.application.secrets
continue
guest
continue
Rails.application.secrets["gmail"]["email"]
Rails.application.secrets[:gmail]["email"]
Rails.application.secrets[:gmail][:email]
 Rails.application.secrets
continue
 Rails.application.secrets
continue
 Rails.application.secrets
 Rails.application.secrets[:gmail]
 Rails.application.secrets[:gmail
 Rails.application.secrets[:gmail][:email],
continue
a.flatten.uniq
a.flatten
a
continue
list.map { |shift| booking_time.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }
list.map { |shift| booking_time.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }.include?(false)
list.map { |shift| booking_time.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hou
booking_time.hour
listbooking_time.hour
list.map { |shift| booking_time.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }.include?(false)
continue
match_guest_count 
 check_reserved? 
continue
shifts.map { |shift| reservation.booking_day.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }.include?false
shifts.map { |shift| reservation.booking_day.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }
shifts.map { |shift| reservation.booking_day.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }.pluck(false)
shifts.map { |shift| reservation.booking_day.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }
shifts.map { |shift| booking_time.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }.include?(false)
list.map { |shift| booking_time.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }.include?(false)
shifts
reservation
continue
a.compact.present?
a
reservations
continue
matched_shift_time && match_guest_count
check_reserved? 
continue
list.any? { |shift| booking_time.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }
continue
 @booking_date
@hotel_seat.hotel.working_shifts
@hotel_seat.hotel.working_shifts,
check_shift?(@hotel_seat.hotel.working_shifts, @booking_date)
continue
list.any? { |shift| booking_time.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }
continue
check_shift?(@hotel_seat.hotel.working_shifts, @booking_date)
continue
shift.start_time.to_time.hour
 booking_time.hour
shift
booking_time.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour 
shift = list.second
continue
 shift.end_time.to_time.hour 
shift.start_time.to_time.hour, shift.end_time.to_time.hour 
booking_time.hour
booking_time.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour 
shift = list.first
list.first
list.any? { |shift| booking_time.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }
continue
check_shift?(@hotel_seat.hotel.working_shifts, @booking_date)
@hotel_seat.hotel.working_shifts
 @booking_date
check_shift?(@hotel_seat.hotel.working_shifts, @booking_date)
continue
a.compact.present?
continue
a.compact.present?
a.compact
a.blank?
a.present?
a
continue
list.map { |shift| booking_time.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }
list.map { |shift| booking_time.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }.include?false
continue
list.map { |shift| booking_time.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }.include?false
continue
list.map { |shift| booking_time.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }.include?false
list.map { |shift| booking_time.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }list.map { |shift| booking_time.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }
list.map { |shift| booking_time.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }list.map { |shift| booking_time.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }.include?(false)
list.map { |shift| booking_time.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }list.map { |shift| booking_time.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }.include? false
list.map { |shift| booking_time.hour.between? shift.start_time.to_time.hour, shift.end_time.to_time.hour }
continue
 check_shift_reservation?(shifts, reservations.second.booking_day)
 check_shift_reservation?(shifts, reservations.third.booking_day)
a
continue
 reservations.third.booking_day
 reservations.second.booking_day
 reservations.first.booking_day
 reservations.first.booking_day)
shifts
reservations.third.booking_day
check_shift?(shifts, reservations.third.booking_day)
check_shift?(shifts, reservations.second.booking_day)
check_shift?(shifts, reservations.first.booking_day)
check_shift? (shifts, reservations.first.booking_day)
reservations.first.booking_day.hour
reservations.first.booking_day
reservation.booking_day
shifts
reservations.map { |reservation| reservation unless check_shift?(shifts, reservation.booking_day)}
reservations.map { |reservation| reservation if check_shift?(shifts, reservation.booking_day)}
@booking_date
reservations
a
c
reservations
a
continue
@hotel_seat.reservations.where('booking_day BETWEEN ? AND ?', @booking_date.beginning_of_day, @booking_date.end_of_day )
@hotel_seat.reservations.where('booking_day BETWEEN ? AND ?', @booking_date.beginning_of_day, @booking_date.now.end_of_day )
@hotel_seat.reservations.where('booking_day BETWEEN ? AND ?', @booking_date.beginning_of_day, @booking_date.now.end_of__day )
@booking_date.beginning_of_day
@hotel_seat.reservations.where('booking_day BETWEEN ? AND ?', @booking_date.beginning_of_day, @booking_date.end_of_the_day )
@hotel_seat.reservations.where('booking_day BETWEEN ? AND ?', @booking_date.beginning_of_day, @booking_date.now.end_of_the_day )
@hotel_seat.reservations.where('booking_day BETWEEN ? AND ?', @booking_date.beginning_of_day, @booking_date.end_of_the_day )
@hotel_seat.reservations.where('booking_day BETWEEN ? AND ?', @booking_day.beginning_of_day, @booking_day.end_of_the_day )
hotel_seat.reservations.where('booking_day BETWEEN ? AND ?', @booking_day.beginning_of_day, @booking_day.end_of_the_day )
continue
@hotel_seat.reservations
@booking_date.to_s
@booking_date
@hotel_seat.reservations.where('CAST(booking_day AS text) LIKE ?', @booking_date.to_s)
@hotel_seat.reservations.where('CAST(booking_day AS text) ILIKE ?', @booking_date.to_s)
@hotel_seat.reservations.where('CAST(booking_day AS text) ILIKE ?', @booking_date)
@hotel_seat.reservations.where('CAST(booking_day AS text) LIKE ?', @booking_date)
@hotel_seat.reservations.where('booking_day LIKE ?', @booking_date)
@hotel_seat.reservations.where('CAST(booking_day AS text) LIKE ?', @booking_date)
@hotel_seat.reservations.where("booking_day ILIKE ?", @booking_date)
@hotel_seat.reservations.where("booking_day ILIKE ?", @booking_date.to_date)
@hotel_seat.reservations
@hotel_seat.reservations.where("booking_day ILIKE ?", @booking_date.to_date)
@hotel_seat.reservations.where('CAST(booking_day AS text) LIKE ?', @booking_date.to_date)
@hotel_seat.reservations.where("booking_day ILIKE ?", @booking_date.to_date)
@hotel_seat.reservations.where('booking_day ILIKE ?', @booking_date.to_date)
@hotel_seat.reservations.where('CAST(booking_day AS text) LIKE ?', @booking_date.to_date)
Reservation.all
Reservatio.all
@hotel_seat.reservations.where('CAST(booking_day AS text) LIKE ?', @booking_date)
@booking_day
@hotel_seat.reservations.where('CAST(booking_day AS text) LIKE ?', @booking_day)
continue
@hotel_seat.reservations.where(booking_day: DateTime.now.to_time .. @booking_date)
@hotel_seat.reservations.where(booking_day: DateTime.now .. @booking_date)
Reservation.all
@booking_date
@booking_date)
 DateTime.current 
@hotel_seat.reservations.where(booking_day: DateTime.current .. @booking_date)
@hotel_seat.reservations.where(booking_day: DateTime - 1 .. @booking_date)
@hotel_seat.reservations.where(booking_day: DateTime.yesterday .. @booking_date)
@hotel_seat.reservations.where(booking_day: @booking_date, @booking_date)
continue
@hotel_seat.reservations.where(booking_day: @)
@hotel_seat.reservations.where(booking_day: @booking_date.to_s)
@hotel_seat.reservations.where(booking_day: @booking_date.to_date)
@hotel_seat.reservations.where(booking_day: )
@hotel_seat.hotel.working_shifts
shifts@hotel_seat.hotel.work_shifts
shifts
continue
@hotel_seat.reservations.find_by_booking_day(@booking_date.to_s)
continue
@booking_date
@hotel_seat.reservations.find_by_booking_day(@booking_date.to_s)
@hotel_seat.reservations.find_by_booking_day(@booking_date)
@booking_date
@hotel_seat.reservations.find_by_booking_day(@booking_date)
on_date
continue
@hotel_seat.reservations.find_by_booking_day(@booking_date)
@hotel_seat.reservations.find_by_booking_day(@booking_date.to_date)
on_date
continue
reservations
continue
